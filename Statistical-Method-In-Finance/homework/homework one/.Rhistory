getOption('rmarkdown')
getOption('markdown')
install.packages("rmarkdown")
getOption(rmarkdown)
getOption("rmarkdown")
getOption(markdown)
install.packages("markdown")
library("rmarkdown", lib.loc="~/R/win-library/3.3")
remove.packages("rmarkdown", lib="~/R/win-library/3.3")
remove.packages("markdown", lib="~/R/win-library/3.3")
install.packages("markdown")
install.packages("markdown")
install.packages("rmarkdown")
install.packages("rmarkdown")
update.packages(repos="https://mran.revolutionanalytics.com/snapshot/2017-02-16")
install.packages("rmarkdown", repos="https://cloud.r-project.org")
install.packages('BSDA')
example(Income data)
knitr::opts_chunk$set(echo = TRUE)
Income = c(7,1110,7.1,5.2,8,12,0,5,2.1,2,46,7.5)
library(BSDA)
Income = c(7,1110,7.1,5.2,8,12,0,5,2.1,2,46,7.5)
library(BSDA)
Income = c(7,1110,7.1,5.2,8,12,0,5,2.1,2,46,7.5)
hist(Income)
par(mfrow=c(2,2))
hist(Income)
par(mfrow=c(2,2))
hist(Income)
boxplot(Income)
qqplot(Income)
qqnorm(Income)
par(mfrow=c(2,2))
hist(Income)
boxplot(Income)
qqnorm(Income)
qqline(Income)
par(mfrow=c(2,2))
hist(Income)
boxplot(Income)
qqnorm(Income)
qqline(Income)
par(mfrow=c(2,2))
hist(Income)
boxplot(Income)
qqnorm(Income)
qqline(Income,col='red')
par(mfrow=c(1,3))
hist(Income)
boxplot(Income)
qqnorm(Income)
qqline(Income,col='red')
summary(Income)
t.test(Income,mu=1)
t.test(Income,mu=100)
?t.test
t.test(Income,mu=1)
SIGN.test(Income,mu=1)
SIGN.test(Income,mu=1,alternative = 'two.sided')
SIGN.test(Income,md=1,alternative = 'two.sided')
sort(age)
age = c(54,42,51,54,49,56,33,58,54,64,49)
sort(age)
summary(age)
hist(age)
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
ggplot(aes(x=age))+
geom_histogram(aes(x=age))+
geom_density(aes(x=age))
ggplot()+
geom_histogram(aes(x=age))+
geom_density(aes(x=age))
ggplot()+
geom_histogram(aes(x=age),bins=7)+
geom_density(aes(x=age))
ggplot()+
geom_histogram(aes(x=age),bins=7)+
geom_density(aes(x=age,y=..density..))
ggplot(aes(data=age))+
geom_histogram(bins=7)+
geom_line(stat = 'density')
ggplot(data=age)+
geom_histogram(bins=7)+
geom_line(stat = 'density')
ggplot(data=age,aes(age,..density..))+
geom_histogram(bins=7)+
geom_line(stat = 'density')
library(ggplot2)
ggplot(data=age,aes(age,..density..))+
geom_histogram(bins=7)+
geom_line(stat = 'density')
ggplot(age,aes(age,..density..))+
geom_histogram(bins=7)+
geom_line(stat = 'density')
ggplot()+
geom_histogram(aes(x=age),bins=7)+
geom_line(aes(x=age),stat = 'density')
ggplot(data=age,aese(age,..density..))+
geom_histogram(bins=7)+
geom_line(stat = 'density')
ggplot(data=age,aes(age,..density..))+
geom_histogram(bins=7)+
geom_line(stat = 'density')
ggplot()+
geom_histogram(data=age,bins=7)+
geom_line(stat = 'density')
ggplot()+
geom_histogram(aes(age,..density..),bins=7)+
geom_line(aes(age,..density..),stat = 'density')
boxplot(age)
qqline(age)
qqnorm(age)
qqline(age)
t.test(age, mu = 50)
SIGN.test(age,md=50)
?wilcox.test
wilcox.test(x,mu=10,conf.int = TRUE,correct = FALSE)
x = c(20，18，23，5，14，8，18，22)
wilcox.test(x,mu=10,conf.int = TRUE,correct = FALSE)
b = c(1.9,0.8,1.1,0.1,-0.1,4.4,5.5,1.6,4.6,3.0)
a = c(0.7,-1.6,-0.2,-1.2,0.1,3.4,3.7,0.8,0.0,2.0)
b = c(1.9,0.8,1.1,0.1,-0.1,4.4,5.5,1.6,4.6,3.0)
d = a - b
a = c(0.7,-1.6,-0.2,-1.2,0.1,3.4,3.7,0.8,0.0,2.0)
b = c(1.9,0.8,1.1,0.1,-0.1,4.4,5.5,1.6,4.6,3.0)
d = a - b
sleep = data.frame(a,b,d)
shapiro.test(sleep$d)
wilcox.test(d,mu=0,conf.int = TRUE)
knitr::opts_chunk$set(echo = TRUE)
# page 15: 9
set.seed(2012)
n = 253
par(mfrow=c(3,3))
for i in (1:9){
# page 15: 9
set.seed(2012)
n = 253
par(mfrow=c(3,3))
for (i in (1:9)){
logr = rnorm(n,0.05/253, 0.2/sqrt(253))
price = c(120,120*exp(cumsum(logr)))
plot(price,type = 'b')
}
0.05/253
0.2/sqrt(253)
data = read.csv(’MCD_PriceDaily.csv’)
data = read.csv(’MCD_PriceDaily.csv’)
View(sleep)
setwd("C:/Users/cheny/Desktop/study/second term/Statistical Method In Finance/homework")
setwd("C:/Users/cheny/Desktop/study/second term/Statistical Method In Finance/homework")
data = read.csv(’MCD_PriceDaily.csv’)
setwd("C:/Users/cheny/Desktop/study/second term/Statistical Method In Finance/homework")
data = read.csv('MCD_PriceDaily.csv')
head(data)
adjPrice = data[, 7]
logReturn = diff(log(adjPrice))
n = length(adjPrice)
return = adjPrice[-1]/adjPrice[-n] - 1
plot(return,logReturn,ylab = "log return")
abline(a = 0,b = 1,col = "red",lwd = 2)
return
log(990/1000)
pnorm(log(990/1000),mean = 0.1,sd=0.2,lower.tail = TRUE)
sqrt(0.015^2*5)
pnorm(log(990/1000),mean = 0.005,sd=0.03354102,lower.tail = TRUE)
pnorm(log(990/1000),mean = 0.1,sd=0.2,lower.tail = TRUE)
log(90/80)
0.08*2
sqrt(0.15^2*2)
pnorm(log(990/1000),mean = 0.1,sd=0.2,lower.tail = TRUE)
pnorm(log(990/1000),mean = 0.005,sd=0.03354102,lower.tail = TRUE)
pnorm(log(90/80),mean = 0.16,sd=0.212132,lower.tail = FALSE)
log(100/97)
0.0002*20
sqrt(0.03^2 * 20)
pnorm(log(100/97),mean = 0.004,sd0.1341641,lower.tail = FALSE)
pnorm(log(100/97),mean = 0.004,sd=0.1341641,lower.tail = FALSE)
pnorm(log(990/1000),mean = 0.001,sd=0.015,lower.tail = TRUE)
pnorm(log(990/1000),mean = 0.001,sd=0.015,lower.tail = TRUE)
exp(-0.03*7.5-0.00065*7.5^2)/exp(-0.004*8-0.0005*8^2)
exp(-0.03*7.5-0.00065*7.5^2)/exp(-0.004*8-0.0005*8^2)-1
exp(-0.03*7.5-0.00065*7.5^2)/exp(-0.04*8-0.00005*8^2)
exp(-0.03*7.5-0.00065*7.5^2)/exp(-0.04*8-0.0005*8^2)
knitr::opts_chunk$set(echo = TRUE)
y <- function(t){
return((0.022+0.0025*t-0.004/3*t^2+0.0003/4*t^3))
}
NPV <- function(i){
return(21*exp(-(i/2)*y(i/2)))
}
NPV2 <- function(i){
return(1000*exp(-(i/2)*y(i/2)))
}
w <- function(i){
sum = 0
for (i in 1:8){
sum = sum + NPV(i)
}
sum = sum + NPV2(8)
return(NPV(i)/sum)
}
w2 <- function(i){
sum = 0
for (i in 1:8){
sum = sum + NPV(i)
}
sum = sum + NPV2(8)
return(NPV2(i)/sum)
}
DUR=0
for (i in 1:8) {
DUR=DUR+w(i)*(i/2)
}
DUR = DUR + w2(8)*4
DUR
npv1 <- 21*exp(-time*y(time))
npv1 <- 21*exp(-1*time*y(time))
y(time)
time <- c(0.5,1,1.5,2,2.5,3,3.5,4)
npv1 <- 21*exp(-1*time*y(time))
npv1
npv2 <- 100*exp(-1*4*y(4))
w1 <- npv1/(sum(npv1)+npv2)
w1 <- npv1/(sum(npv1)+npv2)
w2 <- npv2/(sum(npv1)+npv2)
c(1,2,3) * c(4,5,6)
DUR
y <- function(t){
return((0.022+0.0025*t-0.004/3*t^2+0.0003/4*t^3))
}
time <- c(0.5,1,1.5,2,2.5,3,3.5,4)
npv1 <- 21*exp(-1*time*y(time))
npv2 <- 100*exp(-1*4*y(4))
w1 <- npv1/(sum(npv1)+npv2)
w2 <- npv2/(sum(npv1)+npv2)
DUR <- w1*time + w2*4
DUR
y <- function(t){
return((0.022+0.0025*t-0.004/3*t^2+0.0003/4*t^3))
}
time <- c(0.5,1,1.5,2,2.5,3,3.5,4)
npv1 <- 21*exp(-1*time*y(time))
npv2 <- 100*exp(-1*4*y(4))
w1 <- npv1/(sum(npv1)+npv2)
w2 <- npv2/(sum(npv1)+npv2)
DUR <- sum(w1*time) + w2*4
DUR
y <- function(t){
return((0.022+0.0025*t-0.004/3*t^2+0.0003/4*t^3))
}
time <- c(0.5,1,1.5,2,2.5,3,3.5,4)
npv1 <- 21*exp(-1*time*y(time))
npv2 <- 100*exp(-1*4*y(4))
w1 <- npv1/(sum(npv1)+npv2)
w2 <- npv2/(sum(npv1)+npv2)
DUR <- sum(w1*time) + w2*4
DUR
y <- function(t){
return((0.022+0.0025*t-0.004/3*t^2+0.0003/4*t^3))
}
time <- c(0.5,1,1.5,2,2.5,3,3.5,4)
npv1 <- 21*exp(-1*time*y(time))
npv2 <- 1000*exp(-1*4*y(4))
w1 <- npv1/(sum(npv1)+npv2)
w2 <- npv2/(sum(npv1)+npv2)
DUR <- sum(w1*time) + w2*4
DUR
